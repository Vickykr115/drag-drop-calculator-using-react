{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admin\\\\Desktop\\\\New folder (2)\\\\calculator\\\\mycalculator\\\\src\\\\components\\\\Calculator.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport useCalculatorStore from '../store/calculatorStore';\nimport Button from './Button';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Calculator = () => {\n  _s();\n  const {\n    input,\n    buttons,\n    removedButtons,\n    setInput,\n    updateInput,\n    calculateResult,\n    clearInput,\n    moveButton,\n    removeButton,\n    restoreButton\n  } = useCalculatorStore();\n\n  // Dark mode state\n  const [darkMode, setDarkMode] = useState(false);\n\n  // History state for undo/redo functionality\n  const [history, setHistory] = useState({\n    past: [],\n    present: input,\n    future: []\n  });\n  const handleClick = value => {\n    if (value === '=') {\n      calculateResult();\n    } else {\n      setInput(value);\n      updateHistory(value); // Update history with every input change\n    }\n  };\n  const updateHistory = newInput => {\n    setHistory(prevHistory => ({\n      past: [...prevHistory.past, prevHistory.present],\n      // Add current state to the past stack\n      present: newInput,\n      // Set new state as the present\n      future: [] // Clear the redo history when a new action is performed\n    }));\n  };\n  const undo = () => {\n    if (history.past.length > 0) {\n      const previous = history.past[history.past.length - 1];\n      setHistory({\n        past: history.past.slice(0, -1),\n        // Remove last state from past stack\n        present: previous,\n        // Set previous state as the present\n        future: [history.present, ...history.future] // Add current state to future stack\n      });\n      setInput(previous); // Update the input state with the undone value\n    }\n  };\n  const redo = () => {\n    if (history.future.length > 0) {\n      const next = history.future[0];\n      setHistory({\n        past: [...history.past, history.present],\n        // Add current state to the past stack\n        present: next,\n        // Set next state as the present\n        future: history.future.slice(1) // Remove the first item from future stack\n      });\n      setInput(next); // Update the input state with the redone value\n    }\n  };\n\n  // Toggle dark mode\n  const toggleDarkMode = () => {\n    setDarkMode(prevMode => !prevMode);\n  };\n  return /*#__PURE__*/_jsxDEV(DndProvider, {\n    backend: HTML5Backend,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `flex flex-col items-center min-h-screen p-6 transition-all duration-300 ${darkMode ? 'bg-gray-900 text-white' : 'bg-gradient-to-r from-indigo-600 to-pink-500 text-gray-700'}`,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: toggleDarkMode,\n        className: \"absolute top-6 right-6 px-4 py-2 bg-gray-700 text-white rounded-full shadow-lg hover:bg-gray-800 focus:outline-none\",\n        children: darkMode ? 'Light Mode' : 'Dark Mode'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-4 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: undo,\n          disabled: history.past.length === 0,\n          className: \"px-4 py-2 bg-gray-500 text-white rounded-lg shadow-lg disabled:bg-gray-300 hover:bg-gray-600 transition-transform transform hover:scale-105\",\n          children: \"Undo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: redo,\n          disabled: history.future.length === 0,\n          className: \"px-4 py-2 bg-gray-500 text-white rounded-lg shadow-lg disabled:bg-gray-300 hover:bg-gray-600 transition-transform transform hover:scale-105\",\n          children: \"Redo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: input,\n        onChange: e => updateInput(e.target.value),\n        className: `w-80 text-3xl p-4 border-4 rounded-lg text-right focus:outline-none focus:ring-2 transition-all duration-300 ${darkMode ? 'border-gray-700 bg-gray-800 text-white' : 'border-gray-200 bg-white text-gray-700'}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-4 gap-4 w-80 mb-6\",\n        children: buttons.map((btn, index) => /*#__PURE__*/_jsxDEV(Button, {\n          value: btn,\n          index: index,\n          onClick: handleClick,\n          moveButton: moveButton,\n          removeButton: removeButton\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: clearInput,\n        className: \"mt-6 px-6 py-3 bg-red-500 text-white text-lg font-bold rounded-lg shadow-md hover:bg-red-600 focus:outline-none transition-transform transform hover:scale-105\",\n        children: \"Clear\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 flex flex-wrap gap-2\",\n        children: removedButtons.map((btn, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => restoreButton(btn),\n          className: \"px-4 py-2 bg-blue-500 text-white rounded-lg shadow-lg hover:bg-blue-600 transition-transform transform hover:scale-105\",\n          children: btn.value\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n};\n_s(Calculator, \"fROK8N9RAzB6n6qtbj/61IdBLo8=\", false, function () {\n  return [useCalculatorStore];\n});\n_c = Calculator;\nexport default Calculator;\nvar _c;\n$RefreshReg$(_c, \"Calculator\");","map":{"version":3,"names":["React","useState","DndProvider","HTML5Backend","useCalculatorStore","Button","jsxDEV","_jsxDEV","Calculator","_s","input","buttons","removedButtons","setInput","updateInput","calculateResult","clearInput","moveButton","removeButton","restoreButton","darkMode","setDarkMode","history","setHistory","past","present","future","handleClick","value","updateHistory","newInput","prevHistory","undo","length","previous","slice","redo","next","toggleDarkMode","prevMode","backend","children","className","onClick","fileName","_jsxFileName","lineNumber","columnNumber","disabled","type","onChange","e","target","map","btn","index","_c","$RefreshReg$"],"sources":["C:/Users/admin/Desktop/New folder (2)/calculator/mycalculator/src/components/Calculator.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport useCalculatorStore from '../store/calculatorStore';\nimport Button from './Button';\n\nconst Calculator = () => {\n  const { input, buttons, removedButtons, setInput, updateInput, calculateResult, clearInput, moveButton, removeButton, restoreButton } = useCalculatorStore();\n  \n  // Dark mode state\n  const [darkMode, setDarkMode] = useState(false);\n  \n  // History state for undo/redo functionality\n  const [history, setHistory] = useState({ past: [], present: input, future: [] });\n\n  const handleClick = (value) => {\n    if (value === '=') {\n      calculateResult();\n    } else {\n      setInput(value);\n      updateHistory(value); // Update history with every input change\n    }\n  };\n\n  const updateHistory = (newInput) => {\n    setHistory((prevHistory) => ({\n      past: [...prevHistory.past, prevHistory.present],  // Add current state to the past stack\n      present: newInput,  // Set new state as the present\n      future: []  // Clear the redo history when a new action is performed\n    }));\n  };\n\n  const undo = () => {\n    if (history.past.length > 0) {\n      const previous = history.past[history.past.length - 1];\n      setHistory({\n        past: history.past.slice(0, -1),  // Remove last state from past stack\n        present: previous,  // Set previous state as the present\n        future: [history.present, ...history.future]  // Add current state to future stack\n      });\n      setInput(previous); // Update the input state with the undone value\n    }\n  };\n\n  const redo = () => {\n    if (history.future.length > 0) {\n      const next = history.future[0];\n      setHistory({\n        past: [...history.past, history.present],  // Add current state to the past stack\n        present: next,  // Set next state as the present\n        future: history.future.slice(1)  // Remove the first item from future stack\n      });\n      setInput(next); // Update the input state with the redone value\n    }\n  };\n\n  // Toggle dark mode\n  const toggleDarkMode = () => {\n    setDarkMode((prevMode) => !prevMode);\n  };\n\n  return (\n    <DndProvider backend={HTML5Backend}>\n      <div\n        className={`flex flex-col items-center min-h-screen p-6 transition-all duration-300 ${\n          darkMode ? 'bg-gray-900 text-white' : 'bg-gradient-to-r from-indigo-600 to-pink-500 text-gray-700'\n        }`}\n      >\n        {/* Dark Mode Toggle Button */}\n        <button\n          onClick={toggleDarkMode}\n          className=\"absolute top-6 right-6 px-4 py-2 bg-gray-700 text-white rounded-full shadow-lg hover:bg-gray-800 focus:outline-none\"\n        >\n          {darkMode ? 'Light Mode' : 'Dark Mode'}\n        </button>\n\n        {/* Undo/Redo Buttons */}\n        <div className=\"flex gap-4 mb-6\">\n          <button\n            onClick={undo}\n            disabled={history.past.length === 0}\n            className=\"px-4 py-2 bg-gray-500 text-white rounded-lg shadow-lg disabled:bg-gray-300 hover:bg-gray-600 transition-transform transform hover:scale-105\"\n          >\n            Undo\n          </button>\n          <button\n            onClick={redo}\n            disabled={history.future.length === 0}\n            className=\"px-4 py-2 bg-gray-500 text-white rounded-lg shadow-lg disabled:bg-gray-300 hover:bg-gray-600 transition-transform transform hover:scale-105\"\n          >\n            Redo\n          </button>\n        </div>\n\n        {/* Input field with gradient background */}\n        <input\n          type=\"text\"\n          value={input}\n          onChange={(e) => updateInput(e.target.value)}\n          className={`w-80 text-3xl p-4 border-4 rounded-lg text-right focus:outline-none focus:ring-2 transition-all duration-300 ${\n            darkMode ? 'border-gray-700 bg-gray-800 text-white' : 'border-gray-200 bg-white text-gray-700'\n          }`}\n        />\n        \n        {/* Calculator buttons */}\n        <div className=\"grid grid-cols-4 gap-4 w-80 mb-6\">\n          {buttons.map((btn, index) => (\n            <Button\n              key={index}\n              value={btn}\n              index={index}\n              onClick={handleClick}\n              moveButton={moveButton}\n              removeButton={removeButton}\n            />\n          ))}\n        </div>\n\n        {/* Clear button */}\n        <button\n          onClick={clearInput}\n          className=\"mt-6 px-6 py-3 bg-red-500 text-white text-lg font-bold rounded-lg shadow-md hover:bg-red-600 focus:outline-none transition-transform transform hover:scale-105\"\n        >\n          Clear\n        </button>\n\n        {/* Removed buttons */}\n        <div className=\"mt-4 flex flex-wrap gap-2\">\n          {removedButtons.map((btn, index) => (\n            <button\n              key={index}\n              onClick={() => restoreButton(btn)}\n              className=\"px-4 py-2 bg-blue-500 text-white rounded-lg shadow-lg hover:bg-blue-600 transition-transform transform hover:scale-105\"\n            >\n              {btn.value}\n            </button>\n          ))}\n        </div>\n      </div>\n    </DndProvider>\n  );\n};\n\nexport default Calculator;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}