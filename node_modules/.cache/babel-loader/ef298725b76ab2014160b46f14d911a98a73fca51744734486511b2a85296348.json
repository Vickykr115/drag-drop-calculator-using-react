{"ast":null,"code":"import React,{useState}from'react';import{DndProvider}from'react-dnd';import{HTML5Backend}from'react-dnd-html5-backend';import useCalculatorStore from'../store/calculatorStore';import Button from'./Button';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Calculator=()=>{const{input,buttons,removedButtons,setInput,updateInput,calculateResult,clearInput,moveButton,removeButton,restoreButton}=useCalculatorStore();// Dark mode state\nconst[darkMode,setDarkMode]=useState(false);// History state for undo/redo functionality\nconst[history,setHistory]=useState({past:[],present:input,future:[]});const handleClick=value=>{if(value==='='){calculateResult();}else{setInput(value);updateHistory(value);// Update history with every input change\n}};const updateHistory=newInput=>{setHistory(prevHistory=>({past:[...prevHistory.past,prevHistory.present],// Add current state to the past stack\npresent:newInput,// Set new state as the present\nfuture:[]// Clear the redo history when a new action is performed\n}));};const undo=()=>{if(history.past.length>0){const previous=history.past[history.past.length-1];setHistory({past:history.past.slice(0,-1),// Remove last state from past stack\npresent:previous,// Set previous state as the present\nfuture:[history.present,...history.future]// Add current state to future stack\n});setInput(previous);// Update the input state with the undone value\n}};const redo=()=>{if(history.future.length>0){const next=history.future[0];setHistory({past:[...history.past,history.present],// Add current state to the past stack\npresent:next,// Set next state as the present\nfuture:history.future.slice(1)// Remove the first item from future stack\n});setInput(next);// Update the input state with the redone value\n}};// Toggle dark mode\nconst toggleDarkMode=()=>{setDarkMode(prevMode=>!prevMode);};return/*#__PURE__*/_jsx(DndProvider,{backend:HTML5Backend,children:/*#__PURE__*/_jsxs(\"div\",{className:`flex flex-col items-center min-h-screen p-6 transition-all duration-300 ${darkMode?'bg-gray-900 text-white':'bg-gradient-to-r from-indigo-600 to-pink-500 text-gray-700'}`,children:[/*#__PURE__*/_jsx(\"button\",{onClick:toggleDarkMode,className:\"absolute top-6 right-6 px-4 py-2 bg-gray-700 text-white rounded-full shadow-lg hover:bg-gray-800 focus:outline-none\",children:darkMode?'Light Mode':'Dark Mode'}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4 mb-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:undo,disabled:history.past.length===0,className:\"px-4 py-2 bg-gray-500 text-white rounded-lg shadow-lg disabled:bg-gray-300 hover:bg-gray-600 transition-transform transform hover:scale-105\",children:\"Undo\"}),/*#__PURE__*/_jsx(\"button\",{onClick:redo,disabled:history.future.length===0,className:\"px-4 py-2 bg-gray-500 text-white rounded-lg shadow-lg disabled:bg-gray-300 hover:bg-gray-600 transition-transform transform hover:scale-105\",children:\"Redo\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:input,onChange:e=>updateInput(e.target.value),className:`w-80 text-3xl p-4 border-4 rounded-lg text-right focus:outline-none focus:ring-2 transition-all duration-300 ${darkMode?'border-gray-700 bg-gray-800 text-white':'border-gray-200 bg-white text-gray-700'}`}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-4 gap-4 w-80 mb-6\",children:buttons.map((btn,index)=>/*#__PURE__*/_jsx(Button,{value:btn,index:index,onClick:handleClick,moveButton:moveButton,removeButton:removeButton},index))}),/*#__PURE__*/_jsx(\"button\",{onClick:clearInput,className:\"mt-6 px-6 py-3 bg-red-500 text-white text-lg font-bold rounded-lg shadow-md hover:bg-red-600 focus:outline-none transition-transform transform hover:scale-105\",children:\"Clear\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 flex flex-wrap gap-2\",children:removedButtons.map((btn,index)=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>restoreButton(btn),className:\"px-4 py-2 bg-blue-500 text-white rounded-lg shadow-lg hover:bg-blue-600 transition-transform transform hover:scale-105\",children:btn.value},index))})]})});};export default Calculator;","map":{"version":3,"names":["React","useState","DndProvider","HTML5Backend","useCalculatorStore","Button","jsx","_jsx","jsxs","_jsxs","Calculator","input","buttons","removedButtons","setInput","updateInput","calculateResult","clearInput","moveButton","removeButton","restoreButton","darkMode","setDarkMode","history","setHistory","past","present","future","handleClick","value","updateHistory","newInput","prevHistory","undo","length","previous","slice","redo","next","toggleDarkMode","prevMode","backend","children","className","onClick","disabled","type","onChange","e","target","map","btn","index"],"sources":["C:/Users/admin/Desktop/New folder (2)/calculator/mycalculator/src/components/Calculator.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport useCalculatorStore from '../store/calculatorStore';\nimport Button from './Button';\n\nconst Calculator = () => {\n  const { input, buttons, removedButtons, setInput, updateInput, calculateResult, clearInput, moveButton, removeButton, restoreButton } = useCalculatorStore();\n  \n  // Dark mode state\n  const [darkMode, setDarkMode] = useState(false);\n  \n  // History state for undo/redo functionality\n  const [history, setHistory] = useState({ past: [], present: input, future: [] });\n\n  const handleClick = (value) => {\n    if (value === '=') {\n      calculateResult();\n    } else {\n      setInput(value);\n      updateHistory(value); // Update history with every input change\n    }\n  };\n\n  const updateHistory = (newInput) => {\n    setHistory((prevHistory) => ({\n      past: [...prevHistory.past, prevHistory.present],  // Add current state to the past stack\n      present: newInput,  // Set new state as the present\n      future: []  // Clear the redo history when a new action is performed\n    }));\n  };\n\n  const undo = () => {\n    if (history.past.length > 0) {\n      const previous = history.past[history.past.length - 1];\n      setHistory({\n        past: history.past.slice(0, -1),  // Remove last state from past stack\n        present: previous,  // Set previous state as the present\n        future: [history.present, ...history.future]  // Add current state to future stack\n      });\n      setInput(previous); // Update the input state with the undone value\n    }\n  };\n\n  const redo = () => {\n    if (history.future.length > 0) {\n      const next = history.future[0];\n      setHistory({\n        past: [...history.past, history.present],  // Add current state to the past stack\n        present: next,  // Set next state as the present\n        future: history.future.slice(1)  // Remove the first item from future stack\n      });\n      setInput(next); // Update the input state with the redone value\n    }\n  };\n\n  // Toggle dark mode\n  const toggleDarkMode = () => {\n    setDarkMode((prevMode) => !prevMode);\n  };\n\n  return (\n    <DndProvider backend={HTML5Backend}>\n      <div\n        className={`flex flex-col items-center min-h-screen p-6 transition-all duration-300 ${\n          darkMode ? 'bg-gray-900 text-white' : 'bg-gradient-to-r from-indigo-600 to-pink-500 text-gray-700'\n        }`}\n      >\n        {/* Dark Mode Toggle Button */}\n        <button\n          onClick={toggleDarkMode}\n          className=\"absolute top-6 right-6 px-4 py-2 bg-gray-700 text-white rounded-full shadow-lg hover:bg-gray-800 focus:outline-none\"\n        >\n          {darkMode ? 'Light Mode' : 'Dark Mode'}\n        </button>\n\n        {/* Undo/Redo Buttons */}\n        <div className=\"flex gap-4 mb-6\">\n          <button\n            onClick={undo}\n            disabled={history.past.length === 0}\n            className=\"px-4 py-2 bg-gray-500 text-white rounded-lg shadow-lg disabled:bg-gray-300 hover:bg-gray-600 transition-transform transform hover:scale-105\"\n          >\n            Undo\n          </button>\n          <button\n            onClick={redo}\n            disabled={history.future.length === 0}\n            className=\"px-4 py-2 bg-gray-500 text-white rounded-lg shadow-lg disabled:bg-gray-300 hover:bg-gray-600 transition-transform transform hover:scale-105\"\n          >\n            Redo\n          </button>\n        </div>\n\n        {/* Input field with gradient background */}\n        <input\n          type=\"text\"\n          value={input}\n          onChange={(e) => updateInput(e.target.value)}\n          className={`w-80 text-3xl p-4 border-4 rounded-lg text-right focus:outline-none focus:ring-2 transition-all duration-300 ${\n            darkMode ? 'border-gray-700 bg-gray-800 text-white' : 'border-gray-200 bg-white text-gray-700'\n          }`}\n        />\n        \n        {/* Calculator buttons */}\n        <div className=\"grid grid-cols-4 gap-4 w-80 mb-6\">\n          {buttons.map((btn, index) => (\n            <Button\n              key={index}\n              value={btn}\n              index={index}\n              onClick={handleClick}\n              moveButton={moveButton}\n              removeButton={removeButton}\n            />\n          ))}\n        </div>\n\n        {/* Clear button */}\n        <button\n          onClick={clearInput}\n          className=\"mt-6 px-6 py-3 bg-red-500 text-white text-lg font-bold rounded-lg shadow-md hover:bg-red-600 focus:outline-none transition-transform transform hover:scale-105\"\n        >\n          Clear\n        </button>\n\n        {/* Removed buttons */}\n        <div className=\"mt-4 flex flex-wrap gap-2\">\n          {removedButtons.map((btn, index) => (\n            <button\n              key={index}\n              onClick={() => restoreButton(btn)}\n              className=\"px-4 py-2 bg-blue-500 text-white rounded-lg shadow-lg hover:bg-blue-600 transition-transform transform hover:scale-105\"\n            >\n              {btn.value}\n            </button>\n          ))}\n        </div>\n      </div>\n    </DndProvider>\n  );\n};\n\nexport default Calculator;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}